# Environment Configuration for JS-libp2p Echo Interoperability Tests
# Copy this file to .env and customize for your testing needs

# =============================================================================
# PROTOCOL STACK CONFIGURATION
# =============================================================================

# Transport Protocol (tcp, quic-v1, ws, wss, webtransport, webrtc-direct, webrtc)
TRANSPORT=tcp

# Security Protocol (noise, tls)
SECURITY=noise

# Stream Multiplexer (yamux, mplex)
MUXER=yamux

# =============================================================================
# TEST CONFIGURATION
# =============================================================================

# Test name identifier (used for result tracking)
TEST_NAME=echo-interop

# Test scenarios to run (comma-separated)
# Options: basic, binary, large, concurrent, error_handling, properties, performance
TEST_SCENARIOS=basic,binary,large,concurrent

# Payload sizes for testing (comma-separated)
# Options: small, medium, large, or specific byte counts
PAYLOAD_SIZES=small,medium,large

# Concurrent stream counts for testing (comma-separated)
CONCURRENT_STREAMS=1,5,10

# Test timeout in seconds
TEST_TIMEOUT=30

# Maximum retry attempts for failed connections
MAX_RETRIES=3

# Delay between retry attempts in seconds
RETRY_DELAY=1

# =============================================================================
# CONTAINER CONFIGURATION
# =============================================================================

# Implementation versions
JS_VERSION=latest
PY_VERSION=v0.5.0

# Debug mode (true/false)
DEBUG=false

# Node.js environment (development/production)
NODE_ENV=production

# Redis configuration
REDIS_PORT=6379
REDIS_ADDR=redis://redis:6379

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Source code paths for development mounting (optional)
JS_SOURCE_PATH=./images/js-echo-server/src
PY_SOURCE_PATH=./images/py-test-harness/src

# Debug port for Node.js debugging (optional)
JS_DEBUG_PORT=9229

# =============================================================================
# CI/CD CONFIGURATION
# =============================================================================

# Global timeout for entire test suite (seconds)
GLOBAL_TIMEOUT=600

# Number of parallel test workers
WORKERS=4

# Force image rebuild (true/false)
FORCE_IMAGE_REBUILD=false

# Force test matrix rebuild (true/false)
FORCE_MATRIX_REBUILD=false

# Create test snapshot for reproducibility (true/false)
SNAPSHOT=false

# Skip confirmation prompts (true/false)
YES=false

# =============================================================================
# PROPERTY-BASED TESTING CONFIGURATION
# =============================================================================

# Hypothesis maximum examples per property test
HYPOTHESIS_MAX_EXAMPLES=100

# Hypothesis deadline per test in milliseconds
HYPOTHESIS_DEADLINE=30000

# =============================================================================
# PERFORMANCE TESTING CONFIGURATION
# =============================================================================

# Number of iterations for performance tests
PERFORMANCE_ITERATIONS=100

# Performance test timeout in seconds
PERFORMANCE_TIMEOUT=180

# =============================================================================
# MONITORING AND HEALTH CHECKS
# =============================================================================

# Health check interval in seconds
MONITOR_INTERVAL=10

# Health check timeout in seconds
HEALTH_TIMEOUT=300

# Validation timeout in seconds
VALIDATION_TIMEOUT=30

# Coordinator timeout in seconds
COORDINATOR_TIMEOUT=300

# =============================================================================
# RESOURCE LIMITS
# =============================================================================

# Memory limits (use Docker memory format: 512M, 1G, etc.)
JS_MEMORY_LIMIT=512M
PY_MEMORY_LIMIT=1G
REDIS_MEMORY_LIMIT=256M

# CPU limits (use Docker CPU format: 0.5, 1.0, 2.0, etc.)
JS_CPU_LIMIT=1.0
PY_CPU_LIMIT=2.0
REDIS_CPU_LIMIT=0.5

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Docker network name
DOCKER_NETWORK=js-libp2p-echo-interop

# Network subnet (CIDR notation)
NETWORK_SUBNET=172.20.0.0/16

# Network gateway
NETWORK_GATEWAY=172.20.0.1

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log format (json, text)
LOG_FORMAT=json

# Maximum log file size
LOG_MAX_SIZE=10m

# Maximum number of log files
LOG_MAX_FILES=3

# =============================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT TEST SCENARIOS
# =============================================================================

# Basic TCP/Noise/Yamux test:
# TRANSPORT=tcp
# SECURITY=noise
# MUXER=yamux
# TEST_SCENARIOS=basic

# Stress test with large payloads and concurrent streams:
# TRANSPORT=tcp
# SECURITY=noise
# MUXER=yamux
# TEST_SCENARIOS=large,concurrent
# PAYLOAD_SIZES=large
# CONCURRENT_STREAMS=10,20,50
# TEST_TIMEOUT=120

# Property-based testing:
# TRANSPORT=tcp
# SECURITY=noise
# MUXER=yamux
# TEST_SCENARIOS=properties
# HYPOTHESIS_MAX_EXAMPLES=200
# TEST_TIMEOUT=300

# Performance benchmarking:
# TRANSPORT=tcp
# SECURITY=noise
# MUXER=yamux
# TEST_SCENARIOS=performance
# PERFORMANCE_ITERATIONS=1000
# PERFORMANCE_TIMEOUT=600

# Development mode:
# DEBUG=true
# NODE_ENV=development
# LOG_LEVEL=debug
# JS_DEBUG_PORT=9229